apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeNetwork
metadata:
  name: compute-network
spec:
  autoCreateSubnetworks: true
  description: Default network for the project
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeInstance
metadata:
  labels:
    created-from: disk
    network-type: global
  name: compute-instance
spec:
  bootDisk:
    autoDelete: false
    deviceName: proxycontroldisk
    diskEncryptionKeyRaw:
      value: SGVsbG8gZnJvbSBHb29nbGUgQ2xvdWQgUGxhdGZvcm0=
    mode: READ_ONLY
    sourceDiskRef:
      name: compute-disk
  canIpForward: true
  machineType: n1-standard-1
  networkInterface:
  - networkIp: 10.2.0.4
    networkRef:
      name: compute-network
  zone: us-west1-a
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeRoute
metadata:
  name: compute-route
spec:
  description: A sample compute route
  destRange: 0.0.0.0/0
  networkRef:
    external: projects/tjr-dm-test-1/global/networks/compute-network
  nextHopIp: 10.2.0.4
  priority: 100
  tags:
  - tag1
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeDisk
metadata:
  name: compute-disk
spec:
  description: a sample encrypted, blank disk
  diskEncryptionKey:
    rawKey:
      value: SGVsbG8gZnJvbSBHb29nbGUgQ2xvdWQgUGxhdGZvcm0=
  location: us-west1-c
  physicalBlockSizeBytes: 4096
  size: 1
  type: pd-ssd
