resources:
- name: sql-instance-1
  properties:
    databaseVersion: MYSQL_5_7
    region: us-central1
    settings:
      backupConfiguration:
        binaryLogEnabled: true
        enabled: true
        pointInTimeRecoveryEnabled: false
        replicationLogArchivingEnabled: false
        startTime: '18:00'
      ipConfiguration:
        ipv4Enabled: true
      locationPreference:
        zone: us-central1-b
      tier: db-f1-micro
  type: gcp-types/sqladmin-v1beta4:instances
- metadata:
    dependsOn:
    - sql-instance-1
  name: sql-instance-2
  properties:
    databaseVersion: MYSQL_5_7
    masterInstanceName: sql-instance-1
    region: us-central1
    replicaConfiguration:
      connectRetryInterval: 30
    settings:
      backupConfiguration:
        binaryLogEnabled: false
      ipConfiguration:
        ipv4Enabled: true
      locationPreference:
        zone: us-central1-c
      tier: db-f1-micro
  type: gcp-types/sqladmin-v1beta4:instances
