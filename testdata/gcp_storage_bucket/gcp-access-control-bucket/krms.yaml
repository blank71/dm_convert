apiVersion: storage.cnrm.cloud.google.com/v1beta1
kind: StorageBucket
metadata:
  name: gcp-storage-bucket-access-control-test
spec:
  lifecycleRule:
  - action:
      type: Delete
    condition:
      age: 7
  location: US
  storageClass: STANDARD
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicy
metadata:
  name: iam-policy-for-gcp-storage-bucket-access-control-test
spec:
  bindings:
  - members:
    - user:user1@google.com
    role: roles/storage.objectCreator
  - members:
    - user:user1@google.com
    - user:user2@google.com
    role: roles/storage.objectViewer
  - members: []
    role: roles/storage.objectAdmin
  resourceRef:
    apiVersion: storage.cnrm.cloud.google.com/v1beta1
    kind: StorageBucket
    name: gcp-storage-bucket-access-control-test
