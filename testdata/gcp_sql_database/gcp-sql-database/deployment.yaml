resources:
- name: sql-instance
  properties:
    databaseVersion: MYSQL_5_7
    region: us-central1
    settings:
      backupConfiguration:
        binaryLogEnabled: false
        pointInTimeRecoveryEnabled: false
        replicationLogArchivingEnabled: false
      ipConfiguration:
        ipv4Enabled: true
      locationPreference:
        zone: us-central1-a
      tier: db-n1-standard-1
  type: gcp-types/sqladmin-v1beta4:instances
- metadata:
    dependsOn:
    - sql-instance
  name: sql-database
  properties:
    charset: utf8mb4
    collation: utf8mb4_bin
    instance: sql-instance
    project: test-project-id
  type: gcp-types/sqladmin-v1beta4:databases
- metadata:
    dependsOn:
    - sql-instance
  name: sql-database-1
  properties:
    charset: utf8mb4
    instance: sql-instance
  type: sqladmin.v1beta4.database
