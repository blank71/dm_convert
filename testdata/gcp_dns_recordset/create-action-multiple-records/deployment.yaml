resources:
- name: dns-managed-zone
  properties:
    description: A sample managed zone.
    dnsName: tjr-dm-test-1-dns.com.
  type: gcp-types/dns-v1beta2:managedZones
- metadata:
    dependsOn:
    - dns-managed-zone
    runtimePolicy:
    - CREATE
  name: gcp-dns-bucket-insert-action-test
  action: gcp-types/dns-v1:dns.changes.create
  properties:
    managedZone: $(ref.dns-managed-zone.name)
    project: my-test-project
    # deletions:
    # - name: this-will-fail-conversion
    additions:
    - name: test-add-1
      rrdatas:
      - 257 3 RSASHA256 AwEAAZkgE48ZLQtCZ0v8/qWGiXGn5CIvdWG6NWCG0LEb69RBpkfDztOQN5/i4T+GLXiwcEklZiFns/gf0D6aL8mpmSwl5ATOl+K4V1nXtreEX8kbhQoJsc6qkCBZGgoThm05bVlnSFjVhTM/WYVkk2u+vGD/3WkCpR4a6Xw+WzfHRrN8Qu1EUx9PqDCY6Tfhis4KQsydPFp6iOsR84scDjfrxLuJSQr0c2Sl+1eufqS9o0fr+azRXkelfvAOm2YAm/STj7JjM6bdIGTkeJxfGsGJRY7mOkNB8C3Q9OYyOyFJ2MHWwKvKs3LCj+Z3uinzmOplLDcgszCUPWNSYaCxAV2gguk=
      - 256 3 RSASHA256 AwEAAc1bLrrinMGU8Y9JnwFwunnhZylXyLgUuNY5rLqjvg89b5tdU9KEYNwUyAZVVmZq5pPVjKV+7jOx+ZhMGDrTMpQwzCm1VAHQuED5cNw4FFhXXe4E9VuPIWV0Yv1mtm6bt7GRtgZ8luqCmL8RQ+JlH3rFGawCst72h1MdTzaKoDDJ
      type: DNSKEY
    - name: test-add-2
      rrdatas:
      - 5 gmr-stmp-in.l.google.com.
      - 10 alt1.gmr-stmp-in.l.google.com.
      - 10 alt2.gmr-stmp-in.l.google.com.
      - 10 alt3.gmr-stmp-in.l.google.com.
      - 10 alt4.gmr-stmp-in.l.google.com.
      ttl: 30
      type: DNSKEY
